<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>English Daily Plan</title>
<style>
body{margin:0;font-family:-apple-system;background:#0f1220;color:#fff}
.card{margin:12px;padding:14px;border-radius:12px;background:#181c33}
h1{font-size:18px;margin:0}
h2{font-size:14px;color:#bfc6ff}
.task{margin:8px 0;padding:10px;border:1px solid #2b3160;border-radius:10px}
.done{opacity:.4;text-decoration:line-through}
button{width:100%;padding:10px;border-radius:10px;border:none;background:#4f6bff;color:#fff;font-weight:600}
.small{font-size:12px;color:#bfc6ff}
</style>

<body>
<div class="card">
<h2>今週のテーマ</h2>
<div id="week"></div>
</div>
<div class="card">
<h1>今日の英語（3h）</h1>
<div class="small" id="date"></div>
</div>

<div class="card">
<h2>朝 1h</h2>
<div class="task" onclick="toggle(this)">Duolingo 15分</div>
<div class="task" onclick="toggle(this)">パタプラ 30分（シャドー）</div>
<div class="task" onclick="toggle(this)">独り言 15分（今日のテーマ）</div>
</div>

<div class="card">
<h2>昼 30分</h2>
<div class="task" onclick="toggle(this)">瞬発：日本語→英語（止まらない）</div>
</div>

<div class="card">
<h2>夜 1.5h</h2>
<div class="task" onclick="toggle(this)">英会話 30–40分（説明系）</div>
<div class="task" onclick="toggle(this)">録音レビュー＋言い直し</div>
</div>

<div class="card">
<button onclick="reset()">今日をリセット</button>
</div>

<script>
const today = new Date();
document.getElementById("date").innerText = today.toLocaleDateString();

const weeks = [
 {s:"2026-02-22",e:"2026-02-28",t:"Week1｜留学の言語化＋自己紹介（3分／5分）"},
 {s:"2026-03-01",e:"2026-03-07",t:"Week2｜職務経歴（Accenture）を英語で語る"},
 {s:"2026-03-08",e:"2026-03-14",t:"Week3｜プロジェクト説明（背景→課題→判断→成果）"},
 {s:"2026-03-15",e:"2026-03-21",t:"Week4｜転職理由＋ABeam志向"},
 {s:"2026-03-22",e:"2026-03-23",t:"Week5｜海外勤務志向（欧州第一／ASEAN第二）"},
 {s:"2026-03-24",e:"2026-03-30",t:"Week6｜旅行週：維持＋実地英語"},
 {s:"2026-03-31",e:"2026-03-31",t:"Week7｜最終仕上げ（10分ノンストップ）"}
];

function inRange(d,s,e){
 const D=new Date(d),S=new Date(s),E=new Date(e);
 return D>=S && D<=E;
}

const w = weeks.find(x=>inRange(today,x.s,x.e));
document.getElementById("week").innerText = w ? w.t : "（期間外）";

document.querySelectorAll(".task").forEach((t,i)=>{
 if(localStorage["t"+i]) t.classList.add("done");
 t.onclick=()=>{
   t.classList.toggle("done");
   localStorage["t"+i]=t.classList.contains("done");
 }
});

function reset(){
 localStorage.clear();
 location.reload();
}
</script>
</body>
</html>
